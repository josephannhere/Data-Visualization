<html>
   <head>
    <title>
        Assignment 2
    </title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.8/d3.min.js"></script>
    <link rel="stylesheet" href="./styles1.css">
</head>
<body>
  
<div class="navbar">
  <a href="./Home.html">Home</a>
  <a href="./teams.html">Teams</a>
  <a href="./awards.html">Awards</a>
  <div class="dropdown">
    <button class="dropbtn">Statistics 
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="./goals.html">Goals</a>
      <a href="./topplayer.html">Top Player</a>
      <a href="./cleansheets.html">Clean Sheets</a>
    </div>
  </div> 
</div>
  <div>
  <h1 style="margin-top: 100px;color: green">Top Player</h1>
      <p>Click bar for details at the bottom</p>
   <div class="split left">
  <div class="centered">
      <svg style="width:1000px;height:500px; margin-left: 300px;"></svg>
   <div style="margin-top: 50px"></div>
  </div>
</div>

<div class="split right">
  <div class="centered">
    <img src="images/messi.png" style="margin-right: 300px;" alt="Avatar man">
    <h2>Lionel Messi</h2>
    <p>Argentina</p>
  </div>
</div>
</div>

<div class="jumbotron">
    <div class="container">
        <svg style="width:1500px; height:500px;"> </svg>
            <div style="margin-top:-60px;margin-left: 500px;color: green" class="bottomText"></div>
            </div>
            <script>
              d3.csv("data/data2.csv", data => dataViz(data));
              var fillScale=d3.scaleOrdinal().range(["skyblue"]);
              function dataViz(incomingData) {
                var yScale = d3.scaleLinear().domain([20, 50]).range([20,450]);
                var svg=  d3.select("svg")
         
                .selectAll("rect")
                .data(incomingData)
                .enter()
                .append("rect")
                .attr("width", 50)
                .attr("height", d => yScale(parseInt(d.points)))
                .attr("x", (d,i) => i*70)
                .attr("y", d => 470-yScale(parseInt(d.points)))
                .style("fill", (d,i)=>fillScale(i))
         
                .style("stroke", "#9A8B7A")
                .on("click", Display);
                function Display(d) {
                    let element = document.querySelector("div.bottomText");
                    element.innerHTML = d.player +"  "+ d.points +" Points" ;
                }      
                }
  
            </script> 
</div>
</body>
</html>